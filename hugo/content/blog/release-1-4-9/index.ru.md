+++
title = 'Вышел Kotatogram 1.4.9!'
date = "2022-03-09T00:12:00+03:00"
description = 'Обновление исходников, внутренняя переработка настроек, и новые функции.'
+++

Эта версия снова выходит, несмотря на то, что она не до конца готова к этому, но в нынешних условиях иначе никак.

{{< subheader >}}
## Скачать бету 1.4.9
на основе Telegram Desktop 3.5.2
{{< /subheader >}}

{{< subheader >}}
### Windows
Поддерживает Windows 7 и выше. 
{{< /subheader >}}

{{< button-group class="actions" >}}
    {{< button title="Установщик 32-бит" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-win32-installer.exe" class="icon solid fa-download primary" >}}
    {{< button title="Портативная 32-бит" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-win32-portable.zip" class="icon solid fa-download primary" >}}
{{< /button-group >}}

{{< button-group class="actions" >}}
    {{< button title="Установщик 64-бит" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-win64-installer.exe" class="icon solid fa-download primary" >}}
    {{< button title="Портативная 64-бит" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-win64-portable.zip" class="icon solid fa-download primary" >}}
{{< /button-group >}}

{{< subheader >}}
### Linux
Поддерживает Ubuntu 18.04 и выше.
{{< /subheader >}}

{{< button-group class="actions" >}}
    {{< button title="AppImage" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-linux.tar.xz" class="icon solid fa-download primary" >}}
{{< /button-group >}}

{{< subheader >}}
#### Альтернативные способы
Имейте в виду, что они могут быть обновлены не сразу.
{{< /subheader >}}

{{< button-group class="actions" >}}
    {{< button title="Страница на FlatHub" link= "https://flathub.org/apps/details/io.github.kotatogram" >}}
    {{< button title="Страница на Repology" link= "https://repology.org/project/kotatogram-desktop/versions" >}}
{{< /button-group >}}

{{< subheader >}}

### macOS
Поддерживает macOS 10.15 и выше.
{{</ subheader >}}

{{< button-group class="actions" >}}
    {{< button title="Скачать" link= "https://github.com/kotatogram/kotatogram-desktop/releases/download/k1.4.9/1.4.9-macos.dmg" class="icon solid fa-download primary" >}}
{{< /button-group >}}

## Изменения
* **Внутренняя переработка настроек Kotatogram.** Это незаметное для пользователя изменение позволяет проще добавлять новые настройки. Для разработчиков есть даже небольшая справка (хоть она и на английском): https://github.com/kotatogram/kotatogram-desktop/wiki/Kotatogram-Settings:-Quick-developer-reference
* **Перезапуск для сохранения настроек Kotatogram теперь можно отложить.** Теперь больше не нужно перезапускать приложение по десять раз: можно настроить всё, что нужно, и только потом перезапустить.
* **Выбор времени при переходе к дате в чате.** Функция подойдёт тем чатам, в которых за день накапливается столько сообщений, что листать с начала дня невероятно долго. Функция удаления сообщений за конкретные дни тоже никуда не пропала: в окне выбора даты и времени нажмите «три точки», затем «Показать календарь».
* **Экспериментальные настройки Telegram Desktop теперь отображаются всегда.** С недавнего времени в Telegram Desktop появились собственные экспериментальные настройки, расположенные в «Настройки» > «Продвинутые настройки». Но к сожалению, в Telegram Desktop они отображаются только когда включено автоматическое обновление и бета-версии. Это же, вдобавок, лишает их отображения в сборках без встроенного автоапдейтера. В Kotatogram они отображаются всегда. Бонус: я сделал возможность их переводить на другие языки.
* **Цвета иконки рядом с именем сообщения теперь те же, что и у самих имён.** Изначально мне не нравилась идея дублировать иконки 8 раз в коде, и, честно говоря, мне она не нравится до сих пор. Но посмотрев на то, как работают иконки в 1.4.8, я подумал, что визуальная составляющая здесь важнее. Тем не менее, так как у каждой из них отдельный цвет, никто не помешает вам сделать их одноцветными.
* **Исправлена обрезка аватарки в системных уведомлениях Windows.** К сожалению, системные уведомления Windows поддерживают только варианты круг/квадрат, но теперь хотя бы они применяются правильно.
* **Настройка «Панель эмодзи по наведению» заменена стандартной.** Так как в экспериментальных настройках есть своя версия этой настройки, я решил убрать свою. Вместо этого я добавил две новых опции, которые позволяют более тонко регулировать поведение панели с эмодзи: «Боковая панель эмодзи» и «Открывать боковую панель эмодзи ПКМ».
* **«Показать профиль» первым пунктом меню как опция.** После обновления контекстных меню пункт «Показать профиль» был убран. Вначале я его вернул, поместив в самый верх, но потом в Telegram Desktop была сделана своя настройка, которая его возвращает. Но так как первым пунктом «Показать профиль» может быть удобнее, я решил сделать это настройкой.

## Изменения от blank-x

Довольно немало изменений привнёс **blank-x**. Среди них:

* **Переход в чат по Shift+Enter в окне пересылки.** В Telegram Desktop, и, соответственно, у Kotatogram часто не хватает управления с клавиатуры или сочетаний клавиш. Поэтому теперь в Kotatogram есть ещё одно новое.
* **Предупреждение при пересылке викторины без автора.** Так как пересылка без автора не работает на викторинах, в которых никто не голосовал, при пересылке без автора теперь показывается об этом предупреждение.
* Кнопка «Копировать callback-данные» теперь показывается только на callback-кнопках.
* Исправлено ненужное сокращение имени, когда рядом с ним есть иконка.
* Исправлены ссылки tg://user?id для 64-битных ID.
* Исправлено наличие пункта «Упомянуть пользователя» для каналов.
* Исправлено скругление аватарок в окне пригласительной ссылки и в окне звонков.
* Исправлены фильтры в папках по наличию прав администратора.

## Новая иконка для macOS

Для macOS версии **gershik** также нарисовал новую иконку в стиле Big Sur. Надеюсь, она будет корректно работать.

![](/blog/release-1-4-9/new_macos_icon_by_gershik_ru.png)

---

А теперь немного про будущее Kotatogram.

Уже несколько дней ходят разговоры о том, что Россия может отключиться от глобального интернета. Так как я живу в России, отключение от глобального интернета будет означать, что я физически не смогу продолжить разработку Kotatogram. Я надеюсь, что это не так, и буду рад, если это окажется не так. Но если это всё же произойдёт, то неизвестно, как _скоро_ я смогу вернуться к разработке Kotatogram (и смогу ли вообще).

Поэтому я приостанавливаю разработку Kotatogram до тех пор, пока не станет ясно, что будет дальше. К сожалению, я не реализовал в этой версии всего, чего хотел, но исходники уже обновлены в репозитории, поэтому оставлять в совсем подвисшем состоянии, я не хочу. Но я так же оставлю эту версию бетой, чтобы если, к примеру, вам не нравятся реакции, вы могли использовать стабильную.

> Важная вещь: **не используйте профиль от новой версии Telegram Desktop в старой, это приведёт к автоматическому разлогину на всех сессиях в данном профиле!** То же относится и к Kotatogram, где версия TD различается. Другими словами: не используйте профиль от бета-версии на стабильной.

Также хочу извиниться перед переводчиками, которым не было дано время на перевод, но к сожалению, в текущей обстановке ждать рискованно.

Надеюсь, это безумие закончится поскорее.
